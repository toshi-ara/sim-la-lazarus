# 局所麻酔薬シミュレーター
## 概要
- 松本歯科大学の学生実習で行っていた局所麻酔薬の実習項目を
  コンピューター上で再現したシミュレーターです
- [sim-la-web](https://github.com/toshi-ara/sim-la-web)
  で公開しているアプリケーションを
  [Lazarus](https://www.lazarus-ide.org/) で書き直したものです
    - それにより1個の実行ファイルとすることができました

## 実習手順について
### シミュレーターの元となった動物実験の手順
1. モルモット背部の毛をシェーバーで刈り取る
1. 以下の薬物 0.1 ml を皮下注射する。その後、丘疹部の周囲を丸で囲む
    - Saline: 生理食塩水
    - Pro: プロカイン塩酸塩 (1%)
    - Lid: リドカイン塩酸塩 (1%)
    - Mep: メピバカイン塩酸塩 (1%)
    - Bup: ブピバカイン塩酸塩 (1%)
    - Lid + Adr: リドカイン塩酸塩 (1%) + アドレナリン (1/100,000)
1. 一定時間ごとに丘疹内を刺激針で6回刺激し、皮膚収縮を起こした回数を測定する
   （この値をスコア値とする）
    - 5分ごとに刺激を行い、120分まで観測する
1. スコア値6が3回連続した場合に、その薬物の効果が終了したと判定する
    - 終了後は刺激を行わなくてもよい
1. 各薬物のスコア値の合計および作用持続時間を比較する

### シミュレーターの使用方法について
1. **開始ボタン**を押すと測定を開始します
1. 円の内部を左クリックすると画面の左下に"反応あり"あるいは"反応なし"と表示されます。
   "反応あり"の場合には円が一時的に赤色に変化します
1. スライダーで時間経過の速度（倍）を変更することができます
    - 実行中・停止中のどちらの場合にも値を変更することが可能です
1. **一時停止ボタン**を押すと時間の経過が停止し、**再開ボタン**を押すと時間の経過が再開します
1. **新規実験ボタン**を押すと新しいパラメータ値で始めから実験を行うことができます
    - 異なる動物を使用して実験を行うことを意味します
1. **保存ボタン**を押すとクリックした時間、薬物、反応のありなしを
     CSVファイルとして保存することができます
1. **終了ボタン**を押すと確認ダイアログが表示され、プログラムを終了することができます

### このシミュレーターの注意点について
- このシミュレーターは実際の実習結果をもとにモデル化したものですが、
  必ずしも動物実験と同じ結果が得られるとは限りません
    - 薬物のパラメーター値を乱数で設定しているため
      薬物の作用持続時間が本来の薬物の順序と異なる場合があります
    - 刺激した際の反応の有無を乱数で決定しているため
      反応回数が上下を繰り返し、必ずしも経時的に増加するとは限りません


## 参考文献
このシミュレーターで使用したモデル式およびパラメータ値の論文

- Toshiaki Ara and Hiroyuki Kitamura:
  Development of a Predictive Statistical Pharmacological Model
   for Local Anesthetic Agent Effects
   with Bayesian Hierarchical Model Parameter Estimation.
  Medicines 2023, 10(11), 61
  (https://doi.org/10.3390/medicines10110061)
- Toshiaki Ara and Hiroyuki Kitamura:
  Improvement of statistical models by considering correlations
   among parameters:
  Local anesthetic agent simulator for pharmacological education
   2024, 4(4), 2133-2148
  (https://doi.org/10.3390/biomedinformatics4040114)


## ビルド方法
- [Lazarus](https://www.lazarus-ide.org/) でビルドします

## ソースコードを変更する場合（開発者限定）
### ライセンス表示について
- 改変する場合には`LICENSE`ファイルの
  `Copyright (c) 2026 ARA Toshiaki`以降に著作権者を追加した上で、
  その`LICENSE`ファイルをソースコードに含めて下さい


## 変更履歴
### v1.0.0 (2026-1-30)
- 最初のリリース
- Windows, Linux (Ubuntu) 向けにビルド


## このプログラムについて
- 作成者：松本歯科大学・薬理学講座 荒　敏昭
- 作成年：2026
- ライセンス：MITライセンス
